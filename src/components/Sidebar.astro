---
type Props = {
  headings: { text: string, depth: number, slug: string }[]
}

const { headings } = Astro.props
const classForLevel = (level: number) => {
  const baseClasses = 'duration-200 mr-2 hover:mr-0'

  switch (level) {
    case 2:
      return `text-lg font-bold hover:ml-2 ${baseClasses} mt-2`
    case 3:
      return `text-md ml-4 hover:ml-6 ${baseClasses}`
    case 4:
      return `hidden`
  }
}
---

<div class="sticky top-20 w-[11/12] flex flex-col items-end">
  <ul class="px-2 flex flex-col gap-1 my-12 border-l-2 border-primary-fg-900">
    {headings.filter(h => h.depth > 1).map(heading =>
      <li class={classForLevel(heading.depth)}>
        <a href={`#${heading.slug}`}>
          {heading.text}
        </a>
      </li>
    )}
  </ul>
</div>

<div class="relative">
  <!-- Toggle Button (mobile only) -->
  <button id="menu-toggle" class="text-2xl cursor-pointer bg-transparent border-none lg:hidden">
    â˜°
  </button>

  <!-- Dropdown Menu -->
  <div id="dropdown-menu"
       class="absolute left-0 top-full hidden flex-col lg:flex lg:flex-row lg:static lg:w-auto lg:p-0 bg-white border border-gray-300 shadow-md z-50 p-4 text-black w-64 lg:bg-transparent lg:border-none lg:shadow-none">
    <ul class="list-none p-0 m-0 flex flex-col lg:flex-row lg:space-x-1 text-left lg:text-left w-full">

      <!-- Home -->
      <li><a href="home" class="hidden px-5 py-2 text-white lg:inline-block lg:text-sm rounded-full nav-button">Home</a></li>

      <!-- Collapsible: Research -->
      <li class="relative group">
         <button class="hidden px-5 py-2 text-white lg:inline-block lg:text-sm nav-button rounded-full"
    data-target="research-menu">
          Research
        </button>
        <ul id="research-menu"
            class="space-y-2 mt-2 hidden pl-4 lg:absolute lg:left-0 lg:top-full lg:bg-white lg:border lg:shadow-md lg:w-48 lg:p-2 lg:space-y-1 lg:mt-0 group-hover:block">
          <li><a href="description" class="block">Description</a></li>
          <li><a href="wetlab" class="block">Wetlab</a></li>
          <li><a href="model" class="block">Model</a></li>
          <li><a href="software" class="block">Software</a></li>
          <li><a href="hardware" class="block">Hardware</a></li>
        </ul>
      </li>

      <!-- Collapsible: Support -->
      <li class="relative group">
        <button class="hidden px-5 py-2 text-white lg:inline-block lg:text-sm rounded-full nav-button"
                data-target="support-menu">
          Support
        </button>
        <ul id="support-menu"
            class="space-y-2 mt-2 hidden pl-4 lg:absolute lg:left-0 lg:top-full lg:bg-white lg:border lg:shadow-md lg:w-48 lg:p-2 lg:space-y-1 lg:mt-0 group-hover:block">
          <li><a href="finance" class="block">Finance</a></li>
          <li><a href="outreach" class="block">Outreach</a></li>
          <li><a href="sponsors" class="block">Sponsors</a></li>
        </ul>
      </li>

      <!-- Collapsible: Team -->
      <li class="relative group">
        <button class="hidden px-5 py-2 text-white lg:inline-block lg:text-sm rounded-full nav-button"
                data-target="team-menu">
          Team
        </button>
        <ul id="team-menu"
            class="space-y-2 mt-2 hidden pl-4 lg:absolute lg:left-0 lg:top-full lg:bg-white lg:border lg:shadow-md lg:w-48 lg:p-2 lg:space-y-1 lg:mt-0 group-hover:block">
          <li><a href="team" class="block">Team</a></li>
          <li><a href="attributions" class="block">Attributions</a></li>
          <li><a href="contribution" class="block">Contribution</a></li>
        </ul>
      </li>

      <!-- Collapsible: Other -->
      <li class="relative group">
        <button class="hidden px-5 py-2 text-white lg:inline-block lg:text-sm rounded-full nav-button"
                data-target="other-menu">
          Other
        </button>
        <ul id="other-menu"
            class="space-y-2 mt-2 hidden pl-4 lg:absolute lg:left-0 lg:top-full lg:bg-white lg:border lg:shadow-md lg:w-48 lg:p-2 lg:space-y-1 lg:mt-0 group-hover:block">
          <li><a href="human_practice" class="block">Human Practice</a></li>
          <li><a href="entrepreneurship" class="block">Entrepreneurship</a></li>
          <li><a href="wiki" class="block">Wiki</a></li>
        </ul>
      </li>

    </ul>
  </div>
</div>

<!-- JavaScript -->
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const toggle = document.getElementById('menu-toggle');
    const menu = document.getElementById('dropdown-menu');

    toggle?.addEventListener('click', () => {
      menu?.classList.toggle('hidden');
    });

    // Enable collapsible behavior only on small screens
    const mediaQuery = window.matchMedia('(max-width: 1023px)');
    document.querySelectorAll('button[data-target]').forEach(button => {
      const targetId = button.getAttribute('data-target');
      const submenu = document.getElementById(targetId);

      button.addEventListener('click', (e) => {
        if (mediaQuery.matches) {
          e.preventDefault();
          submenu?.classList.toggle('hidden');
        }
      });
    });
  });
</script>
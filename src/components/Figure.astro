---
import { Image } from 'astro:assets';

export interface Props {
  src: ImageMetadata;  // This comes from an imported image
  alt: string;
  caption?: string;
  width?: number;
  height?: number;
  sizes?: string;
  className?: string;
}

const {
  src,
  alt,
  caption,
  width = 800,
  height = 600,
  sizes = "100vw",
  className = ""
} = Astro.props;
---

<div class="w-full flex justify-center my-8 p-4 rounded-xl shadow-lg">
  <figure class={`flex flex-col items-center justify-center w-fit ${className}`}>
    <Image
      src={src}
      alt={alt}
      width={width}
      height={height}
      sizes={sizes}
      class="rounded"
    />
    {caption && <figcaption class="text-sm text-center mt-2 text-gray-600">{caption}</figcaption>}
  </figure>
</div>
